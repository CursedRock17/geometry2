<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Command Line Tools &mdash; tf2_ros 3.2.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="tf2_ros Python API" href="tf2_ros.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            tf2_ros
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="tf2_ros.html">tf2_ros Python API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Command Line Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="#frame-poses">Frame Poses</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tf2-echo">1. tf2_echo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rviz2">2. RVIZ2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#tf-tree-introspection">TF tree introspection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#viewing-tf-trees">1. Viewing TF trees</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#save-as-a-file-by-view-frames">1.1 Save as a file by view_frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fields">Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#query-a-running-node">1.2 Query a running node</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamically-introspect-during-runtime">1.3 Dynamically introspect during runtime</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tf2-monitor">2. tf2_monitor</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tf2_ros</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Command Line Tools</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/cli_tools.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="command-line-tools">
<h1>Command Line Tools<a class="headerlink" href="#command-line-tools" title="Permalink to this heading"></a></h1>
<p>There are a number of tools to help you debug tf related problems. Most of them are located inside the bin directory or the scripts directory. This page gives a description of each tool, and explains what type of problems you can resolve with each tool.</p>
</section>
<section id="frame-poses">
<h1>Frame Poses<a class="headerlink" href="#frame-poses" title="Permalink to this heading"></a></h1>
<section id="tf2-echo">
<h2>1. tf2_echo<a class="headerlink" href="#tf2-echo" title="Permalink to this heading"></a></h2>
<p>tf2_echo is the simplest tool to look at the numeric values of a specific transform. tf2_echo takes two arguments: the reference frame and the target frame. The output of tf2_echo is the target frame represented in the reference frame. E.g. to get the transformation from turtle1 to turtle2, type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2<span class="w"> </span>run<span class="w"> </span>tf2_ros<span class="w"> </span>tf2_echo<span class="w"> </span>turtle1<span class="w"> </span>turtle2
</pre></div>
</div>
<p>The expected output looks something like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>At<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">1253924110</span>.083
<span class="w"> </span>-<span class="w"> </span>Translation:<span class="w"> </span><span class="o">[</span>-1.877,<span class="w"> </span><span class="m">0</span>.415,<span class="w"> </span><span class="m">0</span>.000<span class="o">]</span>
<span class="w"> </span>-<span class="w"> </span>Rotation:<span class="w"> </span><span class="k">in</span><span class="w"> </span>Quaternion<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span>-0.162,<span class="w"> </span><span class="m">0</span>.987<span class="o">]</span>
<span class="w">         </span><span class="k">in</span><span class="w"> </span>RPY<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span>-0.000,<span class="w"> </span>-0.325<span class="o">]</span>
At<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="m">1253924111</span>.082
<span class="w"> </span>-<span class="w"> </span>Translation:<span class="w"> </span><span class="o">[</span>-1.989,<span class="w"> </span><span class="m">0</span>.151,<span class="w"> </span><span class="m">0</span>.000<span class="o">]</span>
<span class="w"> </span>-<span class="w"> </span>Rotation:<span class="w"> </span><span class="k">in</span><span class="w"> </span>Quaternion<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span><span class="m">0</span>.000,<span class="w"> </span>-0.046,<span class="w"> </span><span class="m">0</span>.999<span class="o">]</span>
<span class="w">         </span><span class="k">in</span><span class="w"> </span>RPY<span class="w"> </span><span class="o">[</span><span class="m">0</span>.000,<span class="w"> </span>-0.000,<span class="w"> </span>-0.092<span class="o">]</span>
</pre></div>
</div>
</section>
<section id="rviz2">
<h2>2. RVIZ2<a class="headerlink" href="#rviz2" title="Permalink to this heading"></a></h2>
<p>Run <cite>rviz2</cite> with <cite>tf</cite> enabled and begin viewing frames to see transforms</p>
<img alt="_images/rviz_screenshot.png" src="_images/rviz_screenshot.png" />
</section>
</section>
<section id="tf-tree-introspection">
<h1>TF tree introspection<a class="headerlink" href="#tf-tree-introspection" title="Permalink to this heading"></a></h1>
<section id="viewing-tf-trees">
<h2>1. Viewing TF trees<a class="headerlink" href="#viewing-tf-trees" title="Permalink to this heading"></a></h2>
<section id="save-as-a-file-by-view-frames">
<h3>1.1 Save as a file by view_frames<a class="headerlink" href="#save-as-a-file-by-view-frames" title="Permalink to this heading"></a></h3>
<p>View frames can generate a pdf file with a graphical representation of the complete tf tree. It also generates a number of time-related statistics. To run view frames, type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2<span class="w"> </span>run<span class="w"> </span>tf2_tools<span class="w"> </span>view_frames
</pre></div>
</div>
<p>In the current working folder, you should now have a file called “frames_$(data)_$(time).pdf”. Open the file, you should see something like this:</p>
<img alt="_images/view_frames.png" src="_images/view_frames.png" />
</section>
<section id="fields">
<h3>Fields<a class="headerlink" href="#fields" title="Permalink to this heading"></a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Recorded at time: shows the absolute timestamp when this graph was generated.</p></li>
<li><p>Broadcaster: gives the name of the node that broadcasted the corresponding transform.</p></li>
<li><p>Average rate: gives the average frequency at which the broadcaster sent out the corresponding transform. Note that this is an average, and does not guarantee that the broadcaster was sending transforms the whole time.</p></li>
<li><p>Buffer length: tells you how many seconds of data is available in the tf buffer. When you run view frames without specifying a node, this buffer length should be about 5 seconds.</p></li>
<li><p>Most recent transform: states how long ago the last transform was received. This is the time delay of a transform.</p></li>
<li><p>Oldest transform: states how long ago the first transform was received.</p></li>
</ul>
</div></blockquote>
</section>
<section id="query-a-running-node">
<h3>1.2 Query a running node<a class="headerlink" href="#query-a-running-node" title="Permalink to this heading"></a></h3>
<p>If a specific node is having trouble its exact data can be queried using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2<span class="w"> </span>run<span class="w"> </span>tf2_tools<span class="w"> </span>view_frames<span class="w"> </span>--node<span class="o">=</span>NODE_NAME
</pre></div>
</div>
</section>
<section id="dynamically-introspect-during-runtime">
<h3>1.3 Dynamically introspect during runtime<a class="headerlink" href="#dynamically-introspect-during-runtime" title="Permalink to this heading"></a></h3>
<p><a class="reference external" href="https://github.com/ros-visualization/rqt_tf_tree/tree/master">rqt_tf_tree</a>  provides a GUI to introspect tf tree during runtime.</p>
</section>
</section>
<section id="tf2-monitor">
<h2>2. tf2_monitor<a class="headerlink" href="#tf2-monitor" title="Permalink to this heading"></a></h2>
<p>tf2_monitor can give you a lot of detailed information about a specific transformation you care about. The monitor will break down the chain between two frames into individual transforms, and provide statistics about timing, broadcasters, etc.</p>
<p>E.g. you want more information about the transformation between the frame “turtle1” and the frame “turtle2”, simply type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2<span class="w"> </span>run<span class="w"> </span>tf2_ros<span class="w"> </span>tf2_monitor<span class="w"> </span>turtle1<span class="w"> </span>turtle2
</pre></div>
</div>
<p>The output should look something like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>RESULTS:<span class="w"> </span><span class="k">for</span><span class="w"> </span>turtle1<span class="w"> </span>to<span class="w"> </span>turtle2
Chain<span class="w"> </span>is:<span class="w"> </span>turtle2
Net<span class="w"> </span>delay<span class="w">     </span><span class="nv">avg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.00296015:<span class="w"> </span><span class="nv">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.0239079

Frames:
Frame:<span class="w"> </span>turtle2,<span class="w"> </span>published<span class="w"> </span>by<span class="w"> </span>&lt;no<span class="w"> </span>authority<span class="w"> </span>available&gt;,<span class="w"> </span>Average<span class="w"> </span>Delay:<span class="w"> </span><span class="m">0</span>.00385465,<span class="w"> </span>Max<span class="w"> </span>Delay:<span class="w"> </span><span class="m">0</span>.00637698

Broadcasters:
Node:<span class="w"> </span>/turtle1_tf_broadcaster<span class="w"> </span><span class="m">40</span>.01705<span class="w"> </span>Hz,<span class="w"> </span>Average<span class="w"> </span>Delay:<span class="w"> </span><span class="m">0</span>.0001427<span class="w"> </span>Max<span class="w"> </span>Delay:<span class="w"> </span><span class="m">0</span>.0003479
Node:<span class="w"> </span>/turtle2_tf_broadcaster<span class="w"> </span><span class="m">40</span>.01705<span class="w"> </span>Hz,<span class="w"> </span>Average<span class="w"> </span>Delay:<span class="w"> </span><span class="m">0</span>.0001515<span class="w"> </span>Max<span class="w"> </span>Delay:<span class="w"> </span><span class="m">0</span>.00034
</pre></div>
</div>
<p>Each of these frames can be published by a different broadcaster.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tf2_ros.html" class="btn btn-neutral float-left" title="tf2_ros Python API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2008-2024, Open Source Robotics Foundation, Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>